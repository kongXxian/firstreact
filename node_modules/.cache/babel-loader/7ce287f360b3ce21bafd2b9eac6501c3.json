{"ast":null,"code":"var _jsxFileName = \"D:\\\\vs code\\\\React\\\\source\\\\React-src\\\\REACT-PROJECT\\\\my_project\\\\src\\\\App.js\";\nimport React from 'react';\nimport LogForm from './components/logForm/loginForm';\nimport Logs from './components/logs/logs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Demo extends React.Component {\n  constructor() {\n    super();\n\n    this.delete = id => {\n      console.log(id);\n      let {\n        redata,\n        data\n      } = this.state;\n      let arr1 = [];\n      let arr2 = [];\n      redata.forEach(ele => {\n        if (ele.id !== id) {\n          arr1.push(ele);\n        }\n      });\n      data.forEach(ele => {\n        if (ele.id !== id) {\n          arr2.push(ele);\n        }\n      }); // redata.splice(index,1);\n      // data.splice(index,1);\n\n      this.setState({\n        data: arr2,\n        redata: redata\n      });\n      localStorage.setItem('logs', JSON.stringify(redata));\n    };\n\n    this.search = () => {\n      // console.log('@')\n      let {\n        searchText\n      } = this.state;\n      let reg = new RegExp(searchText, 'i');\n      let newArr = [];\n      this.state.redata.forEach(ele => {\n        if (reg.test(ele.thing)) {\n          newArr.push(ele);\n        }\n      });\n      this.setState({\n        data: newArr\n      });\n    };\n\n    this.searchT = e => {\n      // console.log(e.target.value);\n      this.setState({\n        searchText: e.target.value\n      });\n    };\n\n    this.state = {\n      data: [],\n      redata: []\n    };\n    this.subMit = this.subMit.bind(this);\n  } //添加\n\n\n  subMit(month, day, thing, duration) {\n    return e => {\n      e.preventDefault();\n      let newObj = {\n        month,\n        day,\n        thing,\n        duration,\n        id: Date.now()\n      };\n      this.setState({\n        data: [newObj, ...this.state.data],\n        redata: [newObj, ...this.state.redata]\n      });\n      localStorage.setItem('logs', JSON.stringify([newObj, ...this.state.redata]));\n    };\n  } //删除\n\n\n  //挂载完成\n  componentDidMount() {\n    // this.setState({redata:this.state.data})\n    if (!!JSON.parse(localStorage.getItem('logs'))) {\n      // console.log(JSON.parse(localStorage.getItem('logs')));\n      this.setState({\n        redata: JSON.parse(localStorage.getItem('logs')),\n        data: JSON.parse(localStorage.getItem('logs'))\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.redata);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(LogForm, {\n        subMit: this.subMit,\n        sea: this.search,\n        seT: this.searchT,\n        data: this.state.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Logs, {\n        data: this.state.data,\n        del: this.delete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n} // const data = [\n//     { month: '六月', day: 20, thing: '学习JavaScript', duration: '2小时' },\n//     { month: '六月', day: 22, thing: '学习Nodejs', duration: '1小时' },\n//     { month: '六月', day: 23, thing: '学习React', duration: '2小时' }\n// ]\n\n\nexport default Demo;","map":{"version":3,"names":["React","LogForm","Logs","Demo","Component","constructor","delete","id","console","log","redata","data","state","arr1","arr2","forEach","ele","push","setState","localStorage","setItem","JSON","stringify","search","searchText","reg","RegExp","newArr","test","thing","searchT","e","target","value","subMit","bind","month","day","duration","preventDefault","newObj","Date","now","componentDidMount","parse","getItem","render"],"sources":["D:/vs code/React/source/React-src/REACT-PROJECT/my_project/src/App.js"],"sourcesContent":["import React from 'react'\r\n\r\nimport LogForm from './components/logForm/loginForm'\r\nimport Logs from './components/logs/logs'\r\nclass Demo extends React.Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={data:[],redata:[]};\r\n        this.subMit = this.subMit.bind(this)\r\n    }\r\n\r\n    //添加\r\n    subMit(month, day, thing, duration){\r\n        return (e)=>{\r\n            e.preventDefault();\r\n            let newObj={month,day,thing,duration,id:Date.now()}\r\n            this.setState({data:[newObj,...this.state.data],redata:[newObj,...this.state.redata]})\r\n            localStorage.setItem('logs',JSON.stringify([newObj,...this.state.redata]));\r\n        }\r\n    }\r\n\r\n    //删除\r\n    delete = (id) =>{\r\n        console.log(id);\r\n        let {redata,data} = this.state;\r\n        let arr1 = [];\r\n        let arr2 = [];\r\n        redata.forEach(ele=>{\r\n            if(ele.id!==id){\r\n                arr1.push(ele);\r\n            }\r\n        })\r\n        data.forEach(ele=>{\r\n            if(ele.id!==id){\r\n                arr2.push(ele);\r\n            }\r\n        })\r\n        // redata.splice(index,1);\r\n        // data.splice(index,1);\r\n        this.setState({data:arr2,redata:redata});\r\n        localStorage.setItem('logs',JSON.stringify(redata));\r\n    }\r\n\r\n     //查找\r\n     search=()=>{\r\n        // console.log('@')\r\n        let {searchText} = this.state;\r\n        let reg = new RegExp(searchText,'i');\r\n        let newArr=[];\r\n        this.state.redata.forEach(ele=>{\r\n            if(reg.test(ele.thing)){\r\n                newArr.push(ele);\r\n            }\r\n        })\r\n        this.setState({data:newArr});\r\n    }\r\n\r\n    searchT=(e)=>{\r\n        // console.log(e.target.value);\r\n        this.setState({searchText:e.target.value});\r\n    }\r\n\r\n    //挂载完成\r\n    componentDidMount(){\r\n        // this.setState({redata:this.state.data})\r\n        if(!!JSON.parse(localStorage.getItem('logs'))){\r\n            // console.log(JSON.parse(localStorage.getItem('logs')));\r\n            this.setState({redata:JSON.parse(localStorage.getItem('logs')),data:JSON.parse(localStorage.getItem('logs'))})\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        console.log(this.state.redata);\r\n        return(\r\n            <div className='app'>\r\n                <LogForm  subMit={this.subMit} sea={this.search} seT={this.searchT} data={this.state.data}/>\r\n                <Logs data={this.state.data} del={this.delete}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// const data = [\r\n//     { month: '六月', day: 20, thing: '学习JavaScript', duration: '2小时' },\r\n//     { month: '六月', day: 22, thing: '学习Nodejs', duration: '1小时' },\r\n//     { month: '六月', day: 23, thing: '学习React', duration: '2小时' }\r\n// ]\r\n\r\nexport default Demo"],"mappings":"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"},"metadata":{},"sourceType":"module"}